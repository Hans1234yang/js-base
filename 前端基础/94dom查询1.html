<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <p>
        你喜欢那个城市
    </p>
    <ul id="city">
        <li id="bj">北京</li>
        <li>上海</li>
        <li>东京</li>
        <li>首尔</li>

    </ul>

    <br />
    <br />

    <p>你喜欢的单机游戏</p>
    <ul>
        <li>红警</li>
        <li>实况足球</li>
        <li>极品飞车</li>
        <li>魔兽</li>
    </ul>


    <br />
    <br />

    <p>
        你喜欢的手机操作系统
        <ul id="phone">
            <li>ios系统</li>
            <li id="android">android系统</li>
            <li>windows phone系统</li>
        </ul>
    </p>


    <br />
    <br />

    <div>
        性别
        <input type="radio" name="gender" value="男同学" />
        男性
        <input type="radio" name="gender" value="女同学" />
        女性
        <br />
        <br />
        <br />
        <input type="text" name="theName" id="username" value="abcde" />
        
    </div>

    <div><button id="btn1" />查找#bj的节点</div>
    <div><button id="btn2" />查找所有的li的节点</div>
    <div><button id="btn3" />查找name=gender所有节点</div>
    <div><button id="btn4" />查找#city下所有的li的节点</div>
    <div><button id="btn5" />查找#city下所有的子节点</div>
    <div><button id="btn6" />查找#phone下的第一个子节点</div>
    <div><button id="btn7" />查找#bj的父节点</div>
    <div><button id="btn8" />查找#androd的前一个兄弟节点</div>
    <div><button id="btn9" />查找#username的value属性值</div>
    <div><button id="btn10" />设置#username的value属性值</div>
    <div><button id="btn11" />查找#bj的文本集</div>
</body>
</html>

<script type="text/javascript">

     ///  定义一个函数，专门用来为指定元素绑定函数
     ///  参数:
     ///      (1)idStr :要绑定的函数的元素的 id         
     ///      (2) fun  :是事件绑定的回调函数，点击按钮时，该函数会被触发

    function myCommonFun(isStr, fun) {
        var btn = document.getElementById(isStr);
        btn.onclick = fun;
    };



    ///1.为id 为btn1 的按钮，绑定一个function 
    var btn1 = document.getElementById('btn1');
    btn1.onclick = function () {
        //查找 id为bj的节点
        var theBJ = document.getElementById('bj');

        //打印bj
        //innerHTML通过这个属性可以获取 元素内部的html代码
        console.log(theBJ.innerHTML);
    };


    //2.为id为btn2的按钮绑定一个function
    var btn2 = document.getElementById('btn2');
    btn2.onclick = function () {
         //查找所有的li节点

        //getElementsByTagName()，可以根据标签名获取一组元素节点

          //这个方法会返回一个类似数组的对象(但不是数组)，所有的查询到的元素都会封装到 这个对象中

         //即使查到的只有一个元素 ，也是封装到这个对象中
        var lis = document.getElementsByTagName("li");

        // 打印lis
        console.log(lis);
      
        //遍历lis
        for (var i = 0; i < lis.length;i++)
        {
            console.log(lis[i].innerHTML);

        }
    }
   

    //3.为id为btn3的按钮绑定一个function
    var btn3 = document.getElementById('btn3');
    btn3.onclick = function () {

        //查找name=gender的所有节点
        var inputs = document.getElementsByName("gender");

        //console.log(inputs.length);

        for (var i = 0; i < inputs.length;i++) {

            //innerHTML用于获取元素内部的HTML代码

            //对于 自结束标签，这个标签没有意义(比如input是自结束标签)
            //*
            //*
            //*
            //*
            //*
            //*
            //alert(inputs[i].innerHTML);  这样子写是错误的！!！

            alert(inputs[i].value);  //good

            //如果需要读取 元素节点元素
            //  直接使用元素.属性名
            //     例子 :元素.id  元素.name 元素.value
            //     注意class属性不能采用这种方式
            //     读取class 属性时需要使用元素 className

            // alert(inputs[i].className)  //这样子写是对的


        }
    };


    ///4. 获取id为city下的所有li节点

    var theBtn4 = document.getElementById('btn4');
    theBtn4.onclick = function () {

        //获取id为city的元素
        var city = document.getElementById('city');

        //查找#city下的li节点 
        var lis = city.getElementsByTagName('li');     //区别，一个是document从全局获取li标签。另外一个是从city节点下，获取li标签

        for (var i = 0; i < lis.length; i++) {
            console.log(lis[i].innerHTML);
        }

    };


    ///5. 返回id为city的所有子节点
    var theBtn5 = document.getElementById('btn5');
    theBtn5.onclick = function () {


        //获取标签为city的节点
        var city = document.getElementById('city');

        //返回city的所有子节点
        //**
        //** childNodes属性会获取包括文本节点在内的所有节点
        //**根据 dom标签，所以标签之间的空白也会当成是文本节点
        // 注意 ie8  以及以下的浏览器，不会将空杯当做是子节点

        //. 所有childNodes 在ie8返回的是 4而不是9
        var cns = city.childNodes;
        alert(cns.length);

        for (var i = 0; i < cns.length; i++) {
            console.log(cns[i]);
        }
         
      //children属性可以获取当前元素的所有 子元素(不包括空白文本节点)   所有浏览器都通用
        var cns2 = city.children;

        alert(cns2.length);

    };


    ///6. 返回#phone 的第一个子节点

    var theBtn6 = document.getElementById('btn6');
    theBtn6.onclick = function () {


        //获取id为phone的元素
        var phone = document.getElementById('phone');

        //返回#phone的第一个子节点***********
        //方法1: childNodes[];
        var fir1 = phone.childNodes[0];
        console.log(fir1);
      

        //方法2: firstChild******************
        //****firstChild 可以获取当前元素的第一个子节点(包括空白文本节点)
        var fir2 = phone.firstChild;
        console.log(fir2);

        ///方法3: firstElementChild*********   获取当前元素的第一个子元素

        // firstElementChild不支持ie8 以及以下的浏览器 

        //如果要兼容ie8，就尽量不要使用
        var fir3 = phone.firstElementChild;


        alert(fir3);
        
    };


    ///7.  返回#bj 的父节点
    myCommonFun('btn7', function () {
       
        //内部写:触发执行的代码
        var theBJ = document.getElementById('bj');

        //返回#bj的父节点
        var pn = theBJ.parentNode;

        console.log(pn.innerHTML);

         ////**    innerText
         ////**      可以获取元素内部的文本内容
         ////**      innerText 和innerHTMl类似，区别是  InnerText没有 html标签

        console.log(pn.innerText);

    });


    //8.返回android的前一个兄弟
    myCommonFun('btn8', function () {

        //获取id为 android的元素
        var andr = document.getElementById('android');

        //返回#android 的前一个      兄弟节点  (也可能获取空白的文本)
        var ps = andr.previousSibling;

        console.log(ps);

        ///previousElementSibling获取前一个兄弟(不包括文本)， ie8以下不支持。 不推荐，哈哈哈
        var pe = andr.previousElementSibling;

        console.log(pe);
    });


    //9.读取 #username 的value的值
    myCommonFun('btn9', function () {

        //获取id为 username的节点
        var username = document.getElementById('username');

       
        //读取um的value属性值
        //读取文本框的value属性，就是文本框中填写的内容 
        console.log(username.value);
    });

    //10. 设置#username 的value的值

    myCommonFun('btn10', function () {

        //获取id为username的 节点
        var username = document.getElementById('username');

        username.value = "你好，携程";
    });


    //11. 获取 #bj的文本值

    myCommonFun('btn11', function () {

        //获取id为bj的节点

        var theBJ = document.getElementById('bj');

        //方法1： innerHtml,innerText
        console.log(theBJ.innerHTML);
        console.log(theBJ.innerText);


        //方法2: 获取bj的文本节点
        var fc = theBJ.firstChild;
        console.log(fc.nodeValue);

        //文本节点的nodeValue    就是文本的内容 。
    });

</script>